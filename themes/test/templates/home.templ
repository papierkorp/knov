package templates

import (
	"knov/internal/files"
	"knov/internal/thememanager"
)

templ Home(data thememanager.TemplateData) {
	<!DOCTYPE html>
	<html>
		<head>
			<link href="/static/css/style.css" rel="stylesheet"/>
			<link href="/static/css/custom.css" rel="stylesheet"/>
		</head>
		<body>
			<div>
				<h1>Hello World from templ at test home!</h1>
				<br/>
				<ul>
					<li><a href="/">Home</a></li>
					<li><a href="/settings">Settings</a></li>
				</ul>
			</div>
		</body>
	</html>
}

templ FileView(fileContent *files.FileContent, filePath string, data thememanager.TemplateData) {
	<div class="file-container">
		<ul>
			<li><a href="/">Home</a></li>
			<li><a href="/settings">Settings</a></li>
		</ul>
		<article class="file-content">
			@templ.Raw(fileContent.HTML)
		</article>
	</div>
}

templ Settings(data thememanager.TemplateData) {
	<!DOCTYPE html>
	<html>
		<head>
			<link href="/static/css/style.css" rel="stylesheet"/>
			<link href="/static/css/custom.css" rel="stylesheet"/>
			<script src="/static/htmx.min.js"></script>
		</head>
		<body>
			<div>
				<h1>Hello World from templ at test settings!</h1>
				<form hx-post="/api/themes/setTheme" hx-target="body" hx-swap="outerHTML" hx-trigger="change">
					<label for="theme">Select Theme:</label>
					<select name="theme" id="theme">
						for _, theme := range data.AvailableThemes {
							if theme == data.ThemeToUse {
								<option value={ theme } selected>{ theme }</option>
							} else {
								<option value={ theme }>{ theme }</option>
							}
						}
					</select>
				</form>
				<a href="/">Home</a>
				<a href="/settings">Settings</a>
			</div>
		</body>
	</html>
}

templ BrowseFiles(metadataType string, value string, query string, data thememanager.TemplateData) {
	<!DOCTYPE html>
	<html>
		<head>
			<link href="/static/css/style.css" rel="stylesheet"/>
			<link href="/static/css/custom.css" rel="stylesheet"/>
		</head>
		<body>
			<div>
				<h1>Hello World from templ at test home!</h1>
				<br/>
				<ul>
					<li><a href="/">Home</a></li>
					<li><a href="/settings">Settings</a></li>
				</ul>
			</div>
		</body>
	</html>
}
