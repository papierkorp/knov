package templates

import "knov/internal/thememanager"

templ FileViewDebug(content string, filePath string, filename string, data thememanager.TemplateData) {
	@Base(filename) {
		<div id="view-fileview-debug" class="file-debug">
			<div class="debug-panel">
				<h3>ğŸ” Debug Info</h3>
				<div class="debug-section">
					<h4>File Path</h4>
					<code>{ filePath }</code>
				</div>
				<div class="debug-section">
					<h4>Full Metadata</h4>
					<div class="metadata-json" hx-get={ "/api/metadata?filepath=" + templ.URL(filePath) } hx-trigger="load">
						...
					</div>
				</div>
				<div class="debug-section">
					<h4>All Links</h4>
					<div class="debug-links">
						<strong>Parents:</strong>
						<div hx-get={ "/api/links/parents?filepath=" + templ.URL(filePath) } hx-trigger="load">...</div>
						<strong>Children:</strong>
						<div hx-get={ "/api/links/kids?filepath=" + templ.URL(filePath) } hx-trigger="load">...</div>
						<strong>Used:</strong>
						<div hx-get={ "/api/links/used?filepath=" + templ.URL(filePath) } hx-trigger="load">...</div>
						<strong>References:</strong>
						<div hx-get={ "/api/links/linkstohere?filepath=" + templ.URL(filePath) } hx-trigger="load">...</div>
					</div>
				</div>
			</div>
			<div class="debug-content">
				<h3>ğŸ“„ Content</h3>
				<article class="file-content">
					@templ.Raw(content)
				</article>
			</div>
		</div>
	}
}
